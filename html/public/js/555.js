/*! For license information please see 555.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[555],{4555:(t,e,r)=>{r.r(e),r.d(e,{default:()=>y});var o=r(4335),n=r(5869),i=r(4486);const a=(0,i.A)({},function(){var t=this._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none"}},[t("path",{attrs:{d:"M6 12H18M6 12L11 7M6 12L11 17",stroke:"inherit","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])},[],!1,null,null,null).exports;function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(){var t,e,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function i(r,o,n,i){var s=o&&o.prototype instanceof l?o:l,u=Object.create(s.prototype);return c(u,"_invoke",function(r,o,n){var i,l,s,c=0,u=n||[],p=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return i=e,l=0,s=t,f.n=r,a}};function d(r,o){for(l=r,s=o,e=0;!p&&c&&!n&&e<u.length;e++){var n,i=u[e],d=f.p,b=i[2];r>3?(n=b===o)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=t):i[0]<=d&&((n=r<2&&d<i[1])?(l=0,f.v=o,f.n=i[1]):d<b&&(n=r<3||i[0]>o||o>b)&&(i[4]=r,i[5]=o,f.n=b,l=0))}if(n||r>1)return a;throw p=!0,o}return function(n,u,b){if(c>1)throw TypeError("Generator is already running");for(p&&1===u&&d(u,b),l=u,s=b;(e=l<2?t:s)||!p;){i||(l?l<3?(l>1&&(f.n=-1),d(l,s)):f.n=s:f.v=s);try{if(c=2,i){if(l||(n="next"),e=i[n]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,l<2&&(l=0)}else 1===l&&(e=i.return)&&e.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+n+"' method"),l=1);i=t}else if((e=(p=f.n<0)?s:r.call(o,f))!==a)break}catch(e){i=t,l=1,s=e}finally{c=1}}return{value:e,done:p}}}(r,n,i),!0),u}var a={};function l(){}function u(){}function p(){}e=Object.getPrototypeOf;var f=[][o]?e(e([][o]())):(c(e={},o,function(){return this}),e),d=p.prototype=l.prototype=Object.create(f);function b(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,n,"GeneratorFunction")),t.prototype=Object.create(d),t}return u.prototype=p,c(d,"constructor",p),c(p,"constructor",u),u.displayName="GeneratorFunction",c(p,n,"GeneratorFunction"),c(d),c(d,n,"Generator"),c(d,o,function(){return this}),c(d,"toString",function(){return"[object Generator]"}),(s=function(){return{w:i,m:b}})()}function c(t,e,r,o){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}c=function(t,e,r,o){function i(e,r){c(t,e,function(t){return this._invoke(e,r,t)})}e?n?n(t,e,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[e]=r:(i("next",0),i("throw",1),i("return",2))},c(t,e,r,o)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach(function(e){f(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function f(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e,r,o,n,i,a){try{var l=t[i](a),s=l.value}catch(t){return void r(t)}l.done?e(s):Promise.resolve(s).then(o,n)}const b={components:{Button:n.A,Arrow:a},data:function(){return{slot:null,slotUrl:null,type:"real",noty:{mess:null,type:null},fullscreen:!1}},mounted:function(){this.isAuthenticated()&&this.getSlot(this.$route.params.id),this.isMobileDevice()&&(this.fullscreen=!0)},watch:{"$store.state.user":function(t){t&&!this.slot&&this.getSlot(this.$route.params.id)}},methods:{getSlot:function(t){var e,r=this;return(e=s().m(function e(){var n,i,a,l,c;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,r.isAuthenticated()){e.n=1;break}return r.$router.push("/login"),r.$root.$emit("noty",{title:"Требуется авторизация",text:"Пожалуйста, войдите в аккаунт, чтобы играть в слоты.",type:"warning"}),e.a(2);case 1:if("live"!==t){e.n=3;break}if(!(r.$store.state.user&&r.$store.state.user.balance<1e3)){e.n=2;break}return r.$router.push("/pay"),r.$root.$emit("noty",{title:"Необходим депозит",text:"Необходим депозит 1000 Руб для входа в игру!",type:"warning"}),e.a(2);case 2:return r.$router.push("/slots"),r.$root.$emit("noty",{title:"Попробуйте позже!",text:"На данный момент игра недоступна! Попробуйте позже!",type:"warning"}),e.a(2);case 3:return"demo"===r.$route.query.type&&(r.type="demo"),n="b2b",localStorage.getItem("slotSource_b2b_".concat(t))?n="b2b":localStorage.getItem("slotSource_mobule_".concat(t))&&(n="mobule"),i="b2b"===n?"/b2b/load":"/mobule/load",e.n=4,o.A.post(i,{slot_id:t,mobile:r.isMobileDevice()});case 4:if(a=e.v,!(l=a.data).error){e.n=5;break}return r.$router.push("/slots"),l.message&&r.$root.$emit("noty",{title:"Ошибка",text:l.message,type:"error"}),e.a(2);case 5:r.slot=p(p({},l),{},{id:t,provider:n,title:r.formatSlotName(l.title)}),console.log("slot: "+r.slot),r.slotUrl="".concat("demo"===r.type?l.demo_link:l.link,"&timestamp=").concat((new Date).getTime()),e.n=7;break;case 6:e.p=6,c=e.v,console.error("Ошибка при загрузке слота:",c);case 7:return e.a(2)}},e,null,[[0,6]])}),function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function a(t){d(i,o,n,a,l,"next",t)}function l(t){d(i,o,n,a,l,"throw",t)}a(void 0)})})()},isAuthenticated:function(){return!!this.$store.state.user},formatSlotName:function(t){return console.log("slot name"+t),t.replace(".game","").replace(/([a-z])([A-Z])/g,"$1 $2")},toggle:function(){this.fullscreen=!this.fullscreen},isMobileDevice:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}};var h=r(5072),m=r.n(h),v=r(4912),g={insert:"head",singleton:!1};m()(v.A,g);v.A.locals;const y=(0,i.A)(b,function(){var t,e,o,n=this,i=n._self._c;return i("div",{staticClass:"flex flex-col w-full gap-4"},[i("div",{staticClass:"header grid grid-cols-3 place-items-center w-full"},[i("router-link",{staticClass:"header__back bg-[var(--color-primary)] justify-self-start h-[40px] rounded-[8px] text-white text-[16px] flex items-center font-[Oswald]",attrs:{to:"/slots"}},[i("Button",{staticClass:"w-[120px] header__back justify-center h-[40px] rounded-[8px] text-white text-[16px] px-10 flex items-center font-[Oswald]"},[i("Arrow"),n._v(" "),i("span",[n._v("Назад")])],1)],1),n._v(" "),i("div",{staticClass:"header__game h-[40px] flex items-center gap-2"},[i("img",{attrs:{src:r(3522),alt:"logo"}}),n._v(" "),i("span",{staticClass:"text-[var(--color-text)] text-[18px] font-[Oswald]"},[n._v(n._s(null!==(t=null===(e=n.slot)||void 0===e?void 0:e.title)&&void 0!==t?t:n.formatSlotName(null===(o=n.slot)||void 0===o?void 0:o.gm_url)))])]),n._v(" "),i("Button",{staticClass:"header__toggle justify-self-end bg-[var(--color-primary)] h-[40px] aspect-square rounded-[8px] text-white text-[16px] p-2 flex items-center font-[Oswald]",attrs:{variant:"default"},nativeOn:{click:function(t){return n.toggle.apply(null,arguments)}}},[i("img",{staticClass:"h-full",attrs:{src:"/assets/image/fullscreen.svg"}})])],1),n._v(" "),i("div",{staticClass:"game-container w-full rounded-[16px]"},[n.slotUrl?i("fullscreen",{staticStyle:{height:"100%"},model:{value:n.fullscreen,callback:function(t){n.fullscreen=t},expression:"fullscreen"}},[i("iframe",{attrs:{id:"iframe_slot",scrolling:"no",frameborder:"0",webkitallowfullscreen:"true",allowfullscreen:"",allow:"autoplay; fullscreen",mozallowfullscreen:"true",src:n.slotUrl}})]):n._e()],1)])},[],!1,null,"12babc32",null).exports},4912:(t,e,r)=>{r.d(e,{A:()=>i});var o=r(6798),n=r.n(o)()(function(t){return t[1]});n.push([t.id,".game-container[data-v-12babc32]{aspect-ratio:16/9;border-radius:16px;height:100%;overflow:hidden;position:relative;width:100%;z-index:9999!important}[data-v-12babc32] .fullscreen{background:#000;height:100vh!important;left:0!important;position:fixed!important;top:0!important;width:100vw!important;z-index:9999!important}@supports (height:100dvh){[data-v-12babc32] .fullscreen{background:#000;height:100dvh!important;left:0!important;position:fixed!important;top:0!important;width:100vw!important;z-index:9999!important}}@supports (-webkit-touch-callout:none){.game-container[data-v-12babc32]{aspect-ratio:16/9;border-radius:16px;height:100%;overflow:hidden;position:relative;width:100%}}iframe[data-v-12babc32]{border-radius:inherit;height:100%;width:100%}.header__back svg[data-v-12babc32]{stroke:#fff;display:none;height:40px;width:40px}@media (max-width:568px){.header__game[data-v-12babc32]{padding:0 5px}.header__game span[data-v-12babc32]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header__game img[data-v-12babc32]{display:none}.header__back[data-v-12babc32]{justify-content:center;max-width:100px;padding:0;width:100%;width:40px}.header__back svg[data-v-12babc32]{display:block}.header__back span[data-v-12babc32]{display:none}}",""]);const i=n}}]);