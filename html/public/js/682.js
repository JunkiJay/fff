"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[682],{1940:(t,a,e)=>{e.d(a,{A:()=>o});var r=e(6798),i=e.n(r)()(function(t){return t[1]});i.push([t.id,".page-withdraw__parent[data-v-3136be3c]{background:#15101d;border:2px solid var(--color-secondary);border-radius:24px;display:flex;flex-direction:row;margin:0;padding:16px}.page-withdraw__banners-mobile[data-v-3136be3c]{display:none}.page-withdraw__banners-desc[data-v-3136be3c]{display:block;margin-bottom:24px;padding:0}.page-withdraw__title[data-v-3136be3c]{color:var(--color-text);font-family:Oswald!important;font-size:24px;font-weight:500}.page-withdraw__desc[data-v-3136be3c]{color:var(--color-text);font-size:16px;text-align:center}.page-withdraw__form[data-v-3136be3c],.page-withdraw__withdraw-methods[data-v-3136be3c]{margin-bottom:24px}.page-withdraw__comission span[data-v-3136be3c]{color:var(--color-text-secondary)}.page-withdraw__comission span span[data-v-3136be3c],.page-withdraw__comission span strong[data-v-3136be3c]{color:var(--color-text)}.page-withdraw .withdraw-methods[data-v-3136be3c]{display:flex;flex-direction:column}.page-withdraw .withdraw-methods__title[data-v-3136be3c]{color:var(--color-text);font-family:Oswald!important;font-size:24px}.page-withdraw .withdraw-methods__desc[data-v-3136be3c]{color:var(--color-text);font-size:16px}.page-withdraw .withdraw-methods__min-deposite[data-v-3136be3c]{color:var(--color-text-secondary);font-size:16px;margin-bottom:24px}.page-withdraw .withdraw-methods__items[data-v-3136be3c]{display:grid;gap:16px;grid-template-columns:repeat(3,1fr);margin-bottom:24px}.page-withdraw .withdraw-methods .withdraw-method[data-v-3136be3c]{align-items:center;background:#1f1d28;border-radius:8px;display:flex;flex-direction:column;height:160px;padding:5px;transition:all .2s ease;width:100%}.page-withdraw .withdraw-methods .withdraw-method_active[data-v-3136be3c]{background:#2e2a36;border-color:var(--color-primary)}.page-withdraw .withdraw-methods .withdraw-method__img[data-v-3136be3c]{height:80px;-o-object-fit:contain;object-fit:contain;-o-object-position:center;object-position:center;width:50%}.page-withdraw .withdraw-methods .withdraw-method__title[data-v-3136be3c]{color:var(--color-text);font-size:16px;margin-top:auto}.page-withdraw .withdraw-methods .withdraw-method__desc[data-v-3136be3c]{color:var(--color-text-secondary);font-size:14px}.page-withdraw .banks[data-v-3136be3c]{align-items:center;flex-direction:column}.page-withdraw .banks__title[data-v-3136be3c]{color:var(--color-text);font-family:Oswald!important;font-size:24px}.page-withdraw .banks__desc[data-v-3136be3c]{color:var(--color-text);font-size:16px;margin-bottom:24px}.page-withdraw .banks__items[data-v-3136be3c]{display:grid;gap:16px;grid-template-columns:repeat(3,1fr);margin-bottom:24px}.page-withdraw .banks .bank[data-v-3136be3c]{background:var(--color-form);border:1px solid var(--color-form-border);border-radius:8px;height:160px;justify-items:center;padding:10px;transition:all .2s ease;width:100%}@media (hover:hover){.page-withdraw .banks .bank[data-v-3136be3c]:hover{transform:scale(1.05)}}.page-withdraw .banks .bank_active[data-v-3136be3c]{border:2px solid var(--color-primary)}.page-withdraw__button[data-v-3136be3c]{border-radius:4px!important;font-family:Oswald!important;margin-bottom:24px;text-transform:uppercase}.page-withdraw__warning[data-v-3136be3c]{color:var(--color-text-secondary);font-size:14px}.page-withdraw__history[data-v-3136be3c]{color:var(--color-text);overflow:auto;width:100%}.page-withdraw__history table[data-v-3136be3c]{color:var(--color-text);min-width:700px;width:100%}@media (max-width:1024px){.page-withdraw__button[data-v-3136be3c],.page-withdraw__desc[data-v-3136be3c],.page-withdraw__form[data-v-3136be3c]{width:100%}.page-withdraw__parent[data-v-3136be3c]{margin:16px}.page-withdraw__banners-mobile[data-v-3136be3c]{display:none}.page-withdraw__banners-desc[data-v-3136be3c]{display:block;margin-bottom:24px;padding:0 16px}.page-withdraw .withdraw-methods__items[data-v-3136be3c]{gap:16px;grid-template-columns:repeat(3,1fr)}.page-withdraw__warning[data-v-3136be3c]{color:var(--color-text-secondary);width:100%}.page-withdraw .banks__items[data-v-3136be3c]{grid-template-columns:repeat(3,1fr)}.page-withdraw__history[data-v-3136be3c]{color:var(--color-text);overflow:auto;width:100%}.page-withdraw__history table[data-v-3136be3c]{min-width:700px;width:100%}.form__input[data-v-3136be3c]{padding-left:8px}}@media (max-width:700px){.page-withdraw__parent[data-v-3136be3c]{background:none;border:0 solid var(--color-secondary);border-radius:9px;display:flex;flex-direction:column;margin:0;padding:0}.page-withdraw__banners-mobile[data-v-3136be3c]{display:block;margin-bottom:24px;padding:0 16px}.page-withdraw__banners-desc[data-v-3136be3c]{display:none}.page-withdraw__withdraw-methods[data-v-3136be3c]{margin-bottom:0}.page-withdraw .withdraw-methods[data-v-3136be3c]{background:#15101d;border:2px solid var(--color-secondary);border-radius:9px;padding:16px}.page-withdraw .withdraw-methods .withdraw-method[data-v-3136be3c]{aspect-ratio:auto;height:auto}.page-withdraw .withdraw-methods .withdraw-method__img[data-v-3136be3c]{width:43px}.page-withdraw .withdraw-methods__items[data-v-3136be3c]{display:grid;gap:8px;grid-template-columns:repeat(3,1fr);margin-bottom:16px}}",""]);const o=i},3682:(t,a,e)=>{e.r(a),e.d(a,{default:()=>_});var r=e(5869),i=e(4335),o=e(5353);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function n(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,r)}return e}function d(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?n(Object(e),!0).forEach(function(a){c(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}function c(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,a||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==s(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const l={components:{Button:r.A},data:function(){return{isLoading:!0,withdraws:[],showPurse:!1,amount:null,wallet:null,unq:[],provider:"fk",method:"fk",variant:null}},methods:{formatCurrency:function(t){var a=Number(t)||0;return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(a)},create:function(){var t=this;if(!this.amount||!this.wallet)return this.$root.$emit("noty",{title:"Ошибка",text:"Заполните все поля",type:"error"});var a={sum:this.amount,wallet:this.wallet,provider:this.provider,method:this.method};this.variant&&(a.variant=this.variant),i.A.post("/withdraw/create",a).then(function(a){var e=a.data;if(e.error)return t.$root.$emit("noty",{title:"Ошибка",text:e.message,type:"error"});t.withdraws.unshift(e.withdraw),t.$root.user.balance=e.balance,t.$root.$emit("noty",{title:"Успешно",text:"Заявка на вывод создана",type:"success"})})},returnWithdraw:function(t){var a=this;i.A.post("/withdraw/decline",{id:t}).then(function(e){var r=e.data;if(r.error)return a.$root.$emit("noty",{title:"Ошибка",text:r.message,type:"error"});a.withdraws=a.withdraws.map(function(a){return a.id!==t?a:d(d({},a),{},{status:2})}),a.$root.user.balance=r.balance})},init:function(){var t=this;i.A.post("/withdraw/init").then(function(a){var e=a.data;t.isLoading=!1,t.unq=e.unq,t.withdraws=e.data})}},mounted:function(){this.init(),this.$store.dispatch("payments/fetch",{userId:this.$store.state.user.id})},computed:d(d({},(0,o.L8)("payments",{withdrawMethods:"availableWithdrawMethods"})),{},{systemGet:function(){var t=this,a=this.withdrawMethods.find(function(a){return a.provider===t.provider&&a.method===t.method});return console.log(a),a}})};var p=e(5072),w=e.n(p),m=e(1940),h={insert:"head",singleton:!1};w()(m.A,h);m.A.locals;const _=(0,e(4486).A)(l,function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-withdraw"},[a("img",{staticClass:"page-withdraw__banners-desc aspect-[11/1]",attrs:{src:"/assets/withdraw/withdraw.jpg",alt:""}}),t._v(" "),a("img",{staticClass:"page-withdraw__banners-mobile aspect-[6/1]",attrs:{src:"/assets/withdraw/withdraw2.png",alt:""}}),t._v(" "),a("div",{staticClass:"flex mb-8 rounded-[24px] lg:bg-[var(--color-content)]"},[a("div",{staticClass:"w-full lg:w-[100%] flex flex-col mx-auto"},[a("div",{staticClass:"page-withdraw__parent"},[a("div",{staticClass:"w-[100%] p-4"},[a("div",{staticClass:"page-withdraw__withdraw-methods withdraw-methods"},[a("p",{staticClass:"withdraw-methods__desc mb-4"},[t._v("Выберите метод")]),t._v(" "),a("div",{staticClass:"withdraw-methods__items"},t._l(t.withdrawMethods,function(e){return a("button",{key:e.provider,staticClass:"withdraw-method relative",class:[t.provider===e.provider&&t.method===e.method?"withdraw-method_active":""],on:{click:function(a){t.provider=e.provider,t.method=e.method,t.method=e.method}}},[e.hot?a("img",{staticClass:"absolute top-[6px] right-[6px] w-5 h-5",attrs:{src:"/assets/withdraw/fire.svg",alt:""}}):t._e(),t._v(" "),a("img",{staticClass:"withdraw-method__img",attrs:{src:e.icon}}),t._v(" "),a("div",{staticClass:"withdraw-method__title"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"withdraw-method__desc"},[t._v("Мин. "+t._s(t.formatCurrency(e.min)))])])}),0)])]),t._v(" "),a("div",{staticClass:"p-4 md:border-l border-l-0 border-[#3E3B47CC] w-[100%]"},[a("div",{staticClass:"withdraw-methods"},[a("h2",{staticClass:"page-withdraw__title mb-6"},[t._v("Вывод баланса")]),t._v(" "),a("div",{staticClass:"page-withdraw__form form"},[a("div",{staticClass:"form__group"},[a("label",{staticClass:"form__label"},[t._v(t._s(t.systemGet.walet_input_title))]),t._v(" "),a("div",{staticClass:"form__content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.wallet,expression:"wallet"}],staticClass:"form__input",attrs:{type:"text",placeholder:t.systemGet.walet_input_placeholder},domProps:{value:t.wallet},on:{input:function(a){a.target.composing||(t.wallet=a.target.value)}}})])]),t._v(" "),t.systemGet.variants?a("div",{staticClass:"form__group"},[a("label",{staticClass:"form__label"},[t._v("Выберите банк")]),t._v(" "),a("div",{staticClass:"form__content"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.variant,expression:"variant"}],staticClass:"form__input",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.variant=a.target.multiple?e:e[0]}}},t._l(t.systemGet.variants,function(e){return a("option",{key:e.name,domProps:{value:e.name}},[t._v("\n                                            "+t._s(e.title)+"\n                                        ")])}),0)])]):t._e(),t._v(" "),a("div",{staticClass:"form__group"},[a("label",{staticClass:"form__label"},[t._v("Сумма")]),t._v(" "),a("div",{staticClass:"form__content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form__input",attrs:{type:"number",placeholder:"Сумма"},domProps:{value:t.amount},on:{input:function(a){a.target.composing||(t.amount=a.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"page-withdraw__comission mb-3 flex flex-col"},[a("span",[t._v("\n                                К зачислению: "),a("span",{},[t._v(t._s(t.formatCurrency(t.amount*((100-t.systemGet.comission_percents)/100))))])]),t._v(" "),a("span",[t._v("\n                                Комиссия: "),a("span",{},[t._v(t._s(parseFloat(t.systemGet.comission_percents))+"%")])])]),t._v(" "),a("Button",{staticClass:"page-withdraw__button w-full",nativeOn:{click:function(a){return t.create.apply(null,arguments)}}},[t._v("Создать выплату")]),t._v(" "),a("p",{staticClass:"page-withdraw__warning"},[t._v("\n                            Вывод может занимать до 24 часов! В редких ситуациях возможны задержки банком до 72\n                            часов.\n                        ")])],1)])])])]),t._v(" "),a("div",{staticClass:"page-withdraw__history p-4 rounded-[24px] lg:bg-[var(--color-content)]"},[a("table",[t._m(0),t._v(" "),a("tbody",[t._l(t.withdraws,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",{staticClass:"system_wallet",staticStyle:{height:"50px !important",width:"80px"}},["sberbank"==e.system?a("img",{attrs:{src:"/assets/pay/sber.png"}}):"tinkoff"==e.system?a("img",{attrs:{src:"/assets/pay/tbank.png"}}):"alfabank"==e.system?a("img",{attrs:{src:"/assets/image/alfabank_logo.svg"}}):"fk"==e.system?a("img",{staticStyle:{height:"50px",margin:"auto"},attrs:{src:"/assets/withdraw/bank-fk.png"}}):"card"==e.system?a("img",{staticStyle:{height:"50px",margin:"auto"},attrs:{src:"/assets/withdraw/bank-cards.png"}}):"usdt"==e.system?a("img",{staticStyle:{height:"50px",margin:"auto"},attrs:{src:"/assets/image/usdt.png"}}):"cryptobot"==e.system?a("img",{staticStyle:{height:"50px",margin:"auto"},attrs:{src:"/assets/withdraw/bank-cryptobot.png"}}):a("img",{staticStyle:{height:"50px","justify-content":"center"},attrs:{src:"/assets/image/"+e.system+".png"}})]),t._v(" "),a("td",[t._v(t._s(parseFloat(e.sumWithCom).toFixed(2)))]),t._v(" "),a("td",{},[t._v(t._s(e.wallet))]),t._v(" "),0==e.status?a("td",{staticClass:"expect text-yellow-500 cursor-pointer"},[a("span",{on:{click:function(a){return t.returnWithdraw(e.id)}}},[t._v("Отменить")])]):t._e(),t._v(" "),1==e.status?a("td",{staticClass:"expect text-green-500"},[t._v("Выполнено")]):t._e(),t._v(" "),2==e.status?a("td",{staticClass:"expect text-red-500"},[t._v(t._s(e.reason||"Отменено")+"\n                ")]):t._e(),t._v(" "),3==e.status?a("td",{staticClass:"expect text-blue-500"},[t._v("Обработка")]):t._e(),t._v(" "),a("td",[t._v(t._s(t.$moment(e.created_at).format("lll")))])])}),t._v(" "),0==t.withdraws.length?a("td",{staticClass:"pb-3 pt-6 text-[var(--color-text-secondary)]",attrs:{colspan:"6"}},[t._v("\n                История пуста\n            ")]):t._e()],2)])])])},[function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Система")]),t._v(" "),a("th",[t._v("Сумма")]),t._v(" "),a("th",[t._v("Кошелек")]),t._v(" "),a("th",[t._v("Статус")]),t._v(" "),a("th",[t._v("Дата")])])])}],!1,null,"3136be3c",null).exports}}]);