/*! For license information please see 787.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[787],{8968:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(4991),r=n.n(i),o=n(6314),a=n.n(o)()(r());a.push([t.id,".live-drops[data-v-347d8462]{display:flex;flex:1;flex-direction:column;height:100%;margin-top:0;max-height:400px;padding:0;transition:max-height .5s ease;z-index:1}@media (max-width:1023px){.live-drops[data-v-347d8462]{padding:0 15px}}.live-drops h2[data-v-347d8462]{font-family:Inter,sans-serif;font-size:24px;font-weight:700;line-height:29.05px}.live-drops__items[data-v-347d8462]{border-radius:20px;display:flex;flex-direction:row;gap:12px;height:124px;margin-top:16px;overflow-x:hidden;pointer-events:none;position:relative;transition:all .5s ease}@media (max-width:1023px){.live-drops__items[data-v-347d8462]{height:96px}}.live-drops__items>div[data-v-347d8462]{display:flex;gap:12px}.live-drops__items[data-v-347d8462]::-webkit-scrollbar{display:none}.live-drops__items a[data-v-347d8462]{transition:transform .4s,opacity .4s;z-index:2}.live-drops__items a[data-v-347d8462]:hover{box-shadow:0 0 18.4px 0 hsla(0,0%,100%,.29);transition:box-shadow .3s ease}@media (max-width:1023px){.live-drops__items[data-v-347d8462]{margin-top:14px}}.live-drops.is_open[data-v-347d8462]{max-height:36px}@media (max-width:1023px){.live-drops.is_open[data-v-347d8462]{max-height:36px}.live-drops h2[data-v-347d8462]{font-size:18px}}.slide-right-enter-active[data-v-347d8462],.slide-right-leave-active[data-v-347d8462]{transition:transform .3s ease,opacity .3s ease}.slide-right-enter[data-v-347d8462]{transform:translateX(-100%)}.slide-right-leave-to[data-v-347d8462]{transform:translateX(100%)}.live-drop[data-v-347d8462]{align-items:flex-start;background-color:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,100%,.15);border-radius:24px;display:flex;flex-shrink:0;font-family:Oswald!important;font-size:18px;font-weight:500;gap:10px;padding:8px;text-decoration:none}.live-drop[data-v-347d8462],.live-drop__img[data-v-347d8462]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.live-drop__img[data-v-347d8462]{aspect-ratio:122/182;border-radius:16px;height:100%;-o-object-fit:cover;object-fit:cover;width:82px}@media (max-width:1023px){.live-drop__img[data-v-347d8462]{width:60px}}.live-drop__info[data-v-347d8462]{display:flex;flex-direction:column;height:100%;justify-content:space-between;padding-bottom:8px;padding-top:8px;width:158px}@media (max-width:1023px){.live-drop__info[data-v-347d8462]{padding:0}}.live-drop__number[data-v-347d8462]{color:#fff;font-family:Inter,sans-serif;font-size:24px;font-weight:700;line-height:29.05px;margin-bottom:6px;text-align:left;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none;text-underline-position:from-font}@media (max-width:1023px){.live-drop__number[data-v-347d8462]{font-size:18px;line-height:21.78px}}.live-drop__username[data-v-347d8462]{color:#9e9aa1;font-family:Inter,sans-serif;font-size:16px;font-weight:500;line-height:19.36px;margin-bottom:16px;text-align:left;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none;text-underline-position:from-font}@media (max-width:1023px){.live-drop__username[data-v-347d8462]{font-size:14px;line-height:16.94px}}.live-drop__slot[data-v-347d8462]{color:#fff;font-family:Inter,sans-serif;font-size:18px;font-style:italic;font-weight:400;line-height:21.78px;text-align:left;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none;text-underline-position:from-font}@media (max-width:1023px){.live-drop__slot[data-v-347d8462]{font-size:16px;font-weight:400;line-height:19.36px}}","",{version:3,sources:["webpack://./resources/js/components/LiveDropList.vue"],names:[],mappings:"AACA,6BAGI,YAAA,CAIA,MAAA,CAHA,qBAAA,CACA,WAAA,CAJA,YAAA,CAKA,gBAAA,CAEA,SAAA,CANA,8BAAA,CAOA,SACJ,CACI,0BAXJ,6BAYQ,cAEN,CACF,CAAI,gCACI,4BAAA,CACA,cAAA,CACA,eAAA,CACA,mBAER,CACI,oCAOI,kBAAA,CALA,YAAA,CACA,kBAAA,CAGA,QAAA,CADA,YAAA,CAKA,eAAA,CAFA,iBAAA,CAeA,mBAAA,CAZA,iBAAA,CAVA,uBAcR,CAFQ,0BAbJ,oCAcQ,WAKV,CACF,CAHQ,wCACI,YAAA,CACA,QAKZ,CAEQ,uDACI,YAAZ,CAGQ,sCACI,oCAAA,CACA,SADZ,CAGY,4CACI,2CAAA,CACA,8BADhB,CAKQ,0BAxCJ,oCAyCQ,eAFV,CACF,CAKI,qCACI,eAHR,CAMI,0BACI,qCACI,eAJV,CAOM,gCACI,cALV,CACF,CASA,sFAEI,8CANJ,CASA,oCACI,2BANJ,CASA,uCACI,0BANJ,CASA,4BAEI,sBAAA,CACA,oCAAA,CAIA,oCAAA,CACA,kBAAA,CAPA,YAAA,CAWA,aAAA,CAFA,4BAAA,CAJA,cAAA,CAGA,eAAA,CAJA,QAAA,CADA,WAAA,CAOA,oBAJJ,CAQI,6DAFA,wBAAA,CAAA,qBAAA,CAAA,gBAEJ,CAAI,iCAII,oBAAA,CAEA,kBAAA,CAHA,WAAA,CAEA,mBAAA,CAAA,gBAAA,CAHA,UAFR,CAQQ,0BARJ,iCASQ,UALV,CACF,CAQI,kCACI,YAAA,CACA,qBAAA,CAEA,WAAA,CADA,6BAAA,CAIA,kBAAA,CADA,eAAA,CADA,WAJR,CAQQ,0BATJ,kCAUQ,SALV,CACF,CAQI,oCASI,UAAA,CAPA,4BAAA,CACA,cAAA,CACA,eAAA,CACA,mBAAA,CAJA,iBAAA,CAKA,eAAA,CAEA,qCAAA,CAAA,6BAAA,CADA,iCAJR,CAQQ,0BAXJ,oCAYQ,cAAA,CACA,mBALV,CACF,CAQI,sCASI,aAAA,CAPA,4BAAA,CACA,cAAA,CACA,eAAA,CACA,mBAAA,CAJA,kBAAA,CAKA,eAAA,CAEA,qCAAA,CAAA,6BAAA,CADA,iCAJR,CAQQ,0BAXJ,sCAYQ,cAAA,CACA,mBALV,CACF,CAQI,kCASI,UAAA,CARA,4BAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,mBAAA,CACA,eAAA,CAEA,qCAAA,CAAA,6BAAA,CADA,iCAJR,CAQQ,0BAXJ,kCAYQ,cAAA,CACA,eAAA,CACA,mBALV,CACF",sourcesContent:["\n.live-drops {\n    margin-top: 0;\n    transition: max-height 0.5s ease;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    max-height: 400px;\n    flex: 1;\n    padding: 0;\n    z-index: 1;\n\n    @media (max-width: 1023px) {\n        padding: 0 15px;\n    }\n\n    h2 {\n        font-family: 'Inter', sans-serif;\n        font-size: 24px;\n        font-weight: 700;\n        line-height: 29.05px;\n    }\n\n    &__items {\n        transition: all 0.5s ease;\n        display: flex;\n        flex-direction: row;\n        /* Установлено направление по горизонтали */\n        height: 124px;\n        gap: 12px;\n        border-radius: 20px;\n        overflow-x: hidden;\n        /* Отключить прокрутку */\n        margin-top: 16px;\n        position: relative;\n\n        @media (max-width: 1023px) {\n            height: 96px;\n        }\n\n        &>div {\n            display: flex;\n            gap: 12px;\n        }\n\n        /* Отключение скроллинга при использовании колеса мыши или touch-событий */\n        pointer-events: none;\n\n        /* Отключение скроллбара */\n        &::-webkit-scrollbar {\n            display: none;\n        }\n\n        a {\n            transition: transform 0.4s, opacity 0.4s;\n            z-index: 2;\n\n            &:hover {\n                box-shadow: 0 0 18.4px 0 #FFFFFF4A;\n                transition: box-shadow 0.3s ease;\n            }\n        }\n\n        @media (max-width: 1023px) {\n            margin-top: 14px;\n        }\n    }\n\n    &.is_open {\n        max-height: 36px;\n    }\n\n    @media (max-width: 1023px) {\n        &.is_open {\n            max-height: 36px;\n        }\n\n        h2 {\n            font-size: 18px;\n        }\n    }\n}\n\n.slide-right-enter-active,\n.slide-right-leave-active {\n    transition: transform 0.3s ease, opacity 0.3s ease;\n}\n\n.slide-right-enter {\n    transform: translateX(-100%);\n}\n\n.slide-right-leave-to {\n    transform: translateX(100%);\n}\n\n.live-drop {\n    display: flex;\n    align-items: flex-start;\n    background-color: rgb(255, 255, 255, 0.05);\n    padding: 8px;\n    gap: 10px;\n    font-size: 18px;\n    border: 1px solid rgb(255, 255, 255, 0.15);\n    border-radius: 24px;\n    font-weight: 500;\n    font-family: Oswald !important;\n    text-decoration: none;\n    flex-shrink: 0;\n    user-select: none;\n\n    &__img {\n        user-select: none;\n        width: 82px;\n        height: 100%;\n        aspect-ratio: 122/182;\n        object-fit: cover;\n        border-radius: 16px;\n\n        @media (max-width: 1023px) {\n            width: 60px;\n        }\n    }\n\n    &__info {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        height: 100%;\n        width: 158px;\n        padding-top: 8px;\n        padding-bottom: 8px;\n\n        @media (max-width: 1023px) {\n            padding: 0;\n        }\n    }\n\n    &__number {\n        margin-bottom: 6px;\n        font-family: 'Inter', sans-serif;\n        font-size: 24px;\n        font-weight: 700;\n        line-height: 29.05px;\n        text-align: left;\n        text-underline-position: from-font;\n        text-decoration-skip-ink: none;\n        color: #fff;\n\n        @media (max-width: 1023px) {\n            font-size: 18px;\n            line-height: 21.78px;\n        }\n    }\n\n    &__username {\n        margin-bottom: 16px;\n        font-family: 'Inter', sans-serif;\n        font-size: 16px;\n        font-weight: 500;\n        line-height: 19.36px;\n        text-align: left;\n        text-underline-position: from-font;\n        text-decoration-skip-ink: none;\n        color: #9E9AA1;\n\n        @media (max-width: 1023px) {\n            font-size: 14px;\n            line-height: 16.94px;\n        }\n    }\n\n    &__slot {\n        font-family: 'Inter', sans-serif;\n        font-size: 18px;\n        font-style: italic;\n        font-weight: 400;\n        line-height: 21.78px;\n        text-align: left;\n        text-underline-position: from-font;\n        text-decoration-skip-ink: none;\n        color: #fff;\n\n        @media (max-width: 1023px) {\n            font-size: 16px;\n            font-weight: 400;\n            line-height: 19.36px;\n        }\n    }\n}\n"],sourceRoot:""}]);const s=a},674:(t,e,n)=>{n.d(e,{A:()=>s});var i=n(4991),r=n.n(i),o=n(6314),a=n.n(o)()(r());a.push([t.id,"@keyframes anim-f3e8b44c{0%{bottom:5px}50%{bottom:-5px}to{bottom:5px}}.form__group[data-v-f3e8b44c]{margin-bottom:0}.form__label[data-v-f3e8b44c]{margin-bottom:8px}@media (max-width:1024px){.form_share[data-v-f3e8b44c]{align-items:center}.form_share .form[data-v-f3e8b44c]{max-width:100%;order:3;padding-bottom:0}.form_share .form__group[data-v-f3e8b44c]:first-child{margin-bottom:0;margin-top:16px}.form_share .form__buttons.chance button[data-v-f3e8b44c]{display:block;height:40px}}@media (max-width:900px){.form__buttons.bet[data-v-f3e8b44c]{display:none!important}}","",{version:3,sources:["webpack://./resources/js/pages/Dice/index.vue"],names:[],mappings:"AAeA,yBACI,GACI,UAHN,CAME,IACI,WAJN,CAOE,GACI,UALN,CACF,CASI,8BACI,eAPR,CAUI,8BACI,iBARR,CAYA,0BACI,6BACI,kBATN,CAWM,mCAGI,cAAA,CAFA,OAAA,CAGA,gBATV,CAYc,sDAEI,eAAA,CADA,eATlB,CAeM,0DACI,aAAA,CACA,WAbV,CACF,CAgBA,yBACI,oCACI,sBAdN,CACF",sourcesContent:["\n@-webkit-keyframes anim {\n    0% {\n        bottom: 5px;\n    }\n\n    50% {\n        bottom: -5px;\n    }\n\n    to {\n        bottom: 5px;\n    }\n}\n\n@keyframes anim {\n    0% {\n        bottom: 5px;\n    }\n\n    50% {\n        bottom: -5px;\n    }\n\n    to {\n        bottom: 5px;\n    }\n}\n\n.form {\n    &__group {\n        margin-bottom: 0;\n    }\n\n    &__label {\n        margin-bottom: 8px;\n    }\n}\n\n@media (max-width: 1024px) {\n    .form_share {\n        align-items: center;\n\n        .form {\n            order: 3;\n            padding-bottom: 20px;\n            max-width: 100%;\n            padding-bottom: 0;\n\n            &__group {\n                &:first-child {\n                    margin-top: 16px;\n                    margin-bottom: 0;\n                }\n            }\n        }\n\n        .form__buttons.chance button {\n            display: block;\n            height: 40px;\n        }\n    }\n}\n@media (max-width: 900px) {\n    .form__buttons.bet {\n        display: none !important;\n    }\n}\n"],sourceRoot:""}]);const s=a},4680:(t,e,n)=>{n.d(e,{A:()=>l});const i={components:{Button:n(585).A},data:function(){return{isOpen:!1,history:[],filteredHistory:[],pendingWins:[],placeholderImage:"/assets/image/soon.png",isLoading:!0,animationDelay:500,intervalId:null}},created:function(){this.loadFromStorage(),this.setupSocketListeners()},methods:{loadFromStorage:function(){try{var t=localStorage.getItem("slotsHistory");if(t){var e=JSON.parse(t);Array.isArray(e)&&e.length>0&&(this.history=e,this.filteredHistory=e,this.isLoading=!1)}}catch(t){console.error("Error loading history:",t),this.clearHistory()}},setupSocketListeners:function(){var t=this;this.$socket.on("slotsHistory",(function(e){e.win>=1&&(e.uniqueKey=t.generateUniqueId(),t.history.unshift(e),localStorage.setItem("slotsHistory",JSON.stringify(t.history)),t.isLoading?(t.filteredHistory.unshift(e),t.filteredHistory.length>=4&&(t.isLoading=!1)):(t.pendingWins.push(e),t.intervalId||t.startProcessingWins()))}))},clearHistory:function(){this.history=[],this.filteredHistory=[],localStorage.removeItem("slotsHistory")},generateUniqueId:function(){new Set},startProcessingWins:function(){var t=this;this.intervalId=setInterval((function(){if(t.pendingWins.length>0){var e=t.pendingWins.shift();t.filteredHistory.unshift(e),t.filteredHistory.length>10&&t.filteredHistory.pop()}else clearInterval(t.intervalId),t.intervalId=null}),this.animationDelay)},getPlaceholder:function(){return this.placeholderImage},onImageError:function(t){t.target.src=this.getPlaceholder()},onOpen:function(){this.isOpen=!this.isOpen}},watch:{history:{handler:function(t){t.length>100&&(this.history=t.slice(0,100),localStorage.setItem("slotsHistory",JSON.stringify(this.history)))},deep:!0}},beforeDestroy:function(){this.$socket.off("getHistory"),this.$socket.off("slotsHistory"),this.intervalId&&clearInterval(this.intervalId)}};var r=n(5072),o=n.n(r),a=n(8968),s={insert:"head",singleton:!1};o()(a.A,s);a.A.locals;const l=(0,n(4486).A)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"live-drops lg:p-4 rounded-[24px]",class:{is_open:t.isOpen}},[e("div",{staticClass:"flex justify-between items-center"},[e("h2",{staticClass:"font-[Inter] uppercase text-[var(--color-text)] font-bold"},[t._v("Лента выигрышей")]),t._v(" "),e("Button",{staticClass:"text_button sm:text-[16px] bg-[var(--color-primary)] text-white px-2 sm:px-4 rounded-[8px] flex items-center gap-2 sm:gap-4 h-[34px]",attrs:{variant:"default"},nativeOn:{click:function(e){return t.onOpen.apply(null,arguments)}}},[t._v("\n            "+t._s(t.isOpen?"Развернуть":"Свернуть")+"\n        ")])],1),t._v(" "),e("div",{staticClass:"live-drops__items"},[e("div",{attrs:{name:"slide-right",mode:"out-in"}},t._l(t.filteredHistory,(function(n,i){return e("router-link",{key:i,staticClass:"live-drop",attrs:{draggable:"false",to:"/slots/game/"+n.game_id}},[e("img",{staticClass:"live-drop__img",attrs:{src:n.image,draggable:"false"}}),t._v(" "),e("div",{staticClass:"live-drop__info"},[e("span",{staticClass:"live-drop__number"},[t._v(t._s(n.win.toFixed(2))+" ₽")]),t._v(" "),e("span",{staticClass:"live-drop__username"},[t._v("\n                        "+t._s(n.username.length>15?n.username.substring(0,15)+"..":n.username)+"\n                    ")]),t._v(" "),e("span",{staticClass:"live-drop__slot"},[t._v("\n                        "+t._s(n.slot_name&&n.slot_name.length>15?n.slot_name.substring(0,12)+"..":n.slot_name)+"\n                    ")])])])})),1)])])}),[],!1,null,"347d8462",null).exports},4748:(t,e,n)=>{n.d(e,{A:()=>i});const i=(0,n(4486).A)({},(function(){var t=this._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none"}},[t("g",{attrs:{"clip-path":"url(#clip0_464_66043)"}},[t("path",{attrs:{d:"M6 7.2H16M14.8889 7.2V14.9C14.8889 15.1917 14.7718 15.4715 14.5635 15.6778C14.3551 15.8841 14.0725 16 13.7778 16H8.22222C7.92754 16 7.64492 15.8841 7.43655 15.6778C7.22817 15.4715 7.11111 15.1917 7.11111 14.9V7.2M8.77778 7.2V6.1C8.77778 5.80826 8.89484 5.52847 9.10321 5.32218C9.31159 5.11589 9.5942 5 9.88889 5H12.1111C12.4058 5 12.6884 5.11589 12.8968 5.32218C13.1052 5.52847 13.2222 5.80826 13.2222 6.1V7.2",stroke:"inherite","stroke-width":"1.1","stroke-linecap":"round","stroke-linejoin":"round"}})]),this._v(" "),t("defs",[t("clipPath",{attrs:{id:"clip0_464_66043"}},[t("rect",{attrs:{width:"22",height:"22",fill:"inherite"}})])])])}),[],!1,null,null,null).exports},787:(t,e,n)=>{n.r(e),n.d(e,{default:()=>x});var i=n(4335),r=n(4680),o=n(585),a=n(4748);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(){l=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",A=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function p(t,e,n,i){var o=e&&e.prototype instanceof C?e:C,a=Object.create(o.prototype),s=new D(i||[]);return r(a,"_invoke",{value:O(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var f="suspendedStart",h="suspendedYield",m="executing",v="completed",x={};function C(){}function g(){}function b(){}var _={};u(_,a,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(j([])));w&&w!==n&&i.call(w,a)&&(_=w);var k=b.prototype=C.prototype=Object.create(_);function B(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(r,o,a,l){var c=d(t[r],t,o);if("throw"!==c.type){var A=c.arg,u=A.value;return u&&"object"==s(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,l)}),(function(t){n("throw",t,a,l)})):e.resolve(u).then((function(t){A.value=t,a(A)}),(function(t){return n("throw",t,a,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(t,i){function r(){return new e((function(e,r){n(t,i,e,r)}))}return o=o?o.then(r,r):r()}})}function O(e,n,i){var r=f;return function(o,a){if(r===m)throw Error("Generator is already running");if(r===v){if("throw"===o)throw a;return{value:t,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=F(s,i);if(l){if(l===x)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===f)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=m;var c=d(e,n,i);if("normal"===c.type){if(r=i.done?v:h,c.arg===x)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=v,i.method="throw",i.arg=c.arg)}}}function F(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,F(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),x;var o=d(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,x;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,x):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(s(e)+" is not iterable")}return g.prototype=b,r(k,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,A,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,A,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},B(I.prototype),u(I.prototype,c,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new I(p(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},B(k),u(k,A,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=j,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,x):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),x},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),x}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:j(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),x}},e}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){var i;return i=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==s(i)?i:i+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}const d={components:{LiveDropList:r.A,Button:o.A,Trash:a.A},data:function(){return{lastCall:0,chance:"80.00",bet:"1.00",diceResult:0,noty:{mess:null,btn:null,type:null},buttons:{min:null,center:[null,null],max:null}}},mounted:function(){this.updateResult()},methods:{updateResult:function(){var t=this.chance/100;this.diceResult=100/this.chance*this.bet,this.buttons.min=Math.floor(999999*t),this.buttons.max=999999-this.buttons.min;var e=Math.floor(999999*t)/2;this.buttons.center=[Math.floor(5e5-e),Math.floor(5e5+e)]},play:function(t){var e,n=this;return(e=l().mark((function e(){var r,o,a,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=Date.now())-n.lastCall<100)){e.next=4;break}return n.setNotification(t,"error","Слишком частый вызов метода"),e.abrupt("return");case 4:if(n.lastCall=r,console.log("Тип ставки:",t),console.log("Пользователь:",n.$store.state.user),o=n.$store.state.user||{},a=parseFloat(o.balance||0),s=parseFloat(n.bet),console.log("Баланс пользователя:",a),console.log("betAmount:",s),!(s>a)){e.next=15;break}return n.setNotification(t,"error","Недостаточно средств для ставки"),e.abrupt("return");case 15:return e.prev=15,e.next=18,i.A.post("/dice/bet",{amount:n.bet,chance:n.chance,type:t});case 18:c=e.sent,u=c.data,n.$store.commit("setUser",A(A({},n.$store.state.user),{},{balance:parseFloat(u.balance)})),n.handleGameResult(u,t),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(15),console.error("Ошибка при выполнении запроса:",e.t0),e.t0.response&&401===e.t0.response.status?n.$store.dispatch("logout"):n.setNotification(t,"error","Произошла ошибка запроса.");case 28:case"end":return e.stop()}}),e,null,[[15,24]])})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(t){p(o,i,r,a,s,"next",t)}function s(t){p(o,i,r,a,s,"throw",t)}a(void 0)}))})()},handleGameResult:function(t,e){var n=t.status,i=t.text,r=t.balance;void 0!==r?this.$store.commit("setUser",A(A({},this.$store.state.user),{},{balance:parseFloat(r)})):console.error("Ошибка: balance отсутствует в ответе сервера");var o=n?"/assets/sounds/win_dice.wav":"/assets/sounds/loose.wav";this.setNotification(e,n?"success":"error",i),this.isMute&&new Audio(o).play()},setNotification:function(t,e,n){this.noty={btn:t,type:e,mess:n}},typeBet:function(t){var e=this.$store.state.user||{},n=parseFloat(e.balance||0),i=parseFloat(this.bet),r={min:function(){return"1.00"},max:function(){return n.toFixed(2)},"/2":function(){return Math.max(i/2,1).toFixed(2)},x2:function(){return Math.min(2*i,n).toFixed(2)},default:function(){return i.toFixed(2)}};this.bet=(r[t]||r.default)()},typeChance:function(t){var e=parseFloat(this.chance),n={min:function(){return"1.00"},max:function(){return"95.00"},"/2":function(){return Math.max(e/2,1).toFixed(2)},x2:function(){return Math.min(2*e,95).toFixed(2)},default:function(){return e.toFixed(2)}};this.chance=(n[t]||n.default)()}},watch:{chance:function(){parseFloat(this.chance)<1&&(this.chance="1.00"),parseFloat(this.chance)>95&&(this.chance="95.00"),this.updateResult()},bet:function(){parseFloat(this.bet)<1&&(this.bet="1.00"),parseFloat(this.bet)>1e6&&(this.bet="1000000.00"),this.updateResult()}},computed:{isMute:function(){return this.$store.state.isMute}}};var f=n(5072),h=n.n(f),m=n(674),v={insert:"head",singleton:!1};h()(m.A,v);m.A.locals;const x=(0,n(4486).A)(d,(function(){var t,e=this,n=e._self._c;return n("div",{staticClass:"flex flex-col gap-8"},[n("div",{staticClass:"form_share flex flex-col lg:flex-row justify-between m-3 md:m-0 p-[15px] lg:gap-[20px] lg:p-8 rounded-[24px] bg-[var(--color-content)]"},[n("div",{staticClass:"order-2 lg:order-1 max-w-[330px] w-full form gap-[24px] lg:gap-[55px]"},[n("div",{staticClass:"form__group"},[n("label",{staticClass:"form__label"},[e._v("Ставка")]),e._v(" "),n("div",{staticClass:"form__content"},[n("div",{staticClass:"form__input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.bet,expression:"bet"}],attrs:{type:"text"},domProps:{value:e.bet},on:{focusout:function(t){e.bet=+e.bet<1?"1.00":e.bet},change:function(t){return e.typeBet("default")},input:function(t){t.target.composing||(e.bet=t.target.value)}}}),e._v(" "),n("button",{staticClass:"form__trash",on:{click:function(t){e.bet="1.00"}}},[n("Trash")],1),e._v(" "),n("Button",{staticClass:"form__button",attrs:{variant:"default",isDisabled:!1},nativeOn:{click:function(t){return e.typeBet("min")}}},[e._v("MIN")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{variant:"default",isDisabled:!1},nativeOn:{click:function(t){return e.typeBet("max")}}},[e._v("MAX")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{isDisabled:!e.$store.state.user||2*parseFloat(e.bet)>e.$store.state.user.balance,variant:"default"},nativeOn:{click:function(t){return e.typeBet("x2")}}},[e._v("X2")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{isDisabled:!e.$store.state.user||parseFloat(e.bet)/2<1,variant:"default"},nativeOn:{click:function(t){return e.typeBet("/2")}}},[e._v("/2")])],1),e._v(" "),n("div",{staticClass:"form__buttons bet"},[n("Button",{staticClass:"form__button",attrs:{variant:"default",isDisabled:!1},nativeOn:{click:function(t){return e.typeBet("min")}}},[e._v("MIN")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{variant:"default",isDisabled:!1},nativeOn:{click:function(t){return e.typeBet("max")}}},[e._v("MAX")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{isDisabled:!e.$store.state.user||2*parseFloat(e.bet)>e.$store.state.user.balance,variant:"default"},nativeOn:{click:function(t){return e.typeBet("x2")}}},[e._v("X2")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{isDisabled:!e.$store.state.user||parseFloat(e.bet)/2<1,variant:"default"},nativeOn:{click:function(t){return e.typeBet("/2")}}},[e._v("/2")])],1)])]),e._v(" "),n("div",{staticClass:"form__group"},[n("label",{staticClass:"form__label"},[e._v("Шанс игры")]),e._v(" "),n("div",{staticClass:"form__content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.chance,expression:"chance"}],staticClass:"form__input text-center",attrs:{type:"text"},domProps:{value:e.chance},on:{focusout:function(t){e.chance=+e.chance<=1?"1.00":e.chance},change:function(t){return e.typeChance("default")},input:function(t){t.target.composing||(e.chance=t.target.value)}}}),e._v(" "),n("div",{staticClass:"form__buttons chance"},[n("Button",{staticClass:"form__button",attrs:{variant:"default",isDisabled:!1},nativeOn:{click:function(t){return e.typeChance("min")}}},[e._v("MIN")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{variant:"default",isDisabled:!1},nativeOn:{click:function(t){return e.typeChance("max")}}},[e._v("MAX")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{variant:"default",isDisabled:!1},nativeOn:{click:function(t){return e.typeChance("x2")}}},[e._v("X2")]),e._v(" "),n("Button",{staticClass:"form__button",attrs:{variant:"default",isDisabled:!1},nativeOn:{click:function(t){return e.typeChance("/2")}}},[e._v("/2")])],1)])])]),e._v(" "),n("div",{staticClass:"order-1 lg:order-2 flex items-center flex-col max-w-[480px] w-full"},[n("span",{staticClass:"text-[62px] font-[500] text-[var(--color-primary)]"},[e._v(e._s(parseFloat(e.diceResult).toFixed(2)))]),e._v(" "),n("span",{staticClass:"mb-3 text-[var(--color-text)]"},[e._v("Возможный выигрыш")]),e._v(" "),n("div",{staticClass:"gap-3 grid grid-cols-2 w-full"},[n("div",{staticClass:"h-[40px] text-[13px] lg:text-[14px] rounded-[8px] text-[var(--color-text)] bg-[var(--color-form)] flex items-center justify-center"},[e._v("\n                    0 - "+e._s(e.buttons.min)+"\n                ")]),e._v(" "),n("div",{staticClass:"h-[40px] text-[13px] lg:text-[14px] rounded-[8px] text-[var(--color-text)] bg-[var(--color-form)] flex items-center justify-center"},[e._v("\n                    "+e._s(e.buttons.max)+" - 999999\n                ")]),e._v(" "),n("Button",{staticClass:"panel__button",attrs:{isDisabled:!1},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},nativeOn:{click:function(t){return e.play("min")}}},[e._v("Меньше")]),e._v(" "),n("Button",{staticClass:"panel__button",attrs:{isDisabled:!1},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},nativeOn:{click:function(t){return e.play("max")}}},[e._v("Больше")])],1),e._v(" "),n("div",{staticClass:"mt-3 h-[44px] rounded-[8px] text-white w-full flex items-center justify-center",class:["success"===e.noty.type?"bg-[#47D524]":"bg-[#D82828]",null!==(t=e.noty.mess)&&void 0!==t?t:"opacity-0"]},[e._v("\n                "+e._s(e.noty.mess)+"\n            ")])])]),e._v(" "),n("LiveDropList")],1)}),[],!1,null,"f3e8b44c",null).exports}}]);
//# sourceMappingURL=787.js.map